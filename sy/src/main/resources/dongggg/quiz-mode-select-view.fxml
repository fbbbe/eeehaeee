<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="dongggg.QuizModeSelectController"
            stylesheets="@styles.css"
            styleClass="root-pane, main-root">

    <top>
        <HBox alignment="CENTER_LEFT" styleClass="quiz-back-wrapper">
            <padding>
                <Insets top="30" left="40"/>
            </padding>
            <Button text="← 뒤로가기"
                    styleClass="dashboard-back-button"
                    onAction="#goBack"/>
        </HBox>
    </top>
        

    <center>
        <VBox alignment="CENTER" spacing="40">
            
            <!-- 타이틀 영역 -->
            <VBox alignment="CENTER" spacing="8">
                <Label text="시험 보러 갈까요?" styleClass="dashboard-title"/>
                <Label text="동그리와 함께 실력을 확인해보세요!" styleClass="dashboard-subtitle"/>
            </VBox>

            <!-- 두 개 카드 -->
            <HBox alignment="CENTER" spacing="48">

                <!-- 전체 시험 카드 -->
                <VBox alignment="TOP_CENTER"
                      spacing="24"
                      prefWidth="420"
                      styleClass="quiz-mode-card, purple">

                    <VBox alignment="CENTER" spacing="14">
                        <StackPane styleClass="quiz-mode-icon-surface, purple">
                            <SVGPath content="M12 21V7
                                              M16 12l2 2 4-4
                                              M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3"
                                     stroke="white"
                                     fill="transparent"
                                     strokeWidth="2"
                                     strokeLineCap="ROUND"
                                     strokeLineJoin="ROUND"
                                     style="-fx-scale-x:2; -fx-scale-y:2;"/>
                        </StackPane>

                        <Label text="전체 시험 보기" styleClass="quiz-mode-title"/>
                        <Label text="모든 문제를 풀어보세요" styleClass="quiz-mode-subtitle"/>
                    </VBox>

                    <VBox styleClass="quiz-mode-info, purple" spacing="12" prefWidth="420">
                        <HBox alignment="CENTER_LEFT">
                            <Label text="총 문제 수" styleClass="quiz-mode-info-label"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                            <Label fx:id="totalCountLabel" text="35문제" styleClass="quiz-mode-info-value"/>
                        </HBox>

                        <HBox alignment="CENTER_LEFT">
                            <Label text="예상 소요시간" styleClass="quiz-mode-info-label"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                            <Label fx:id="totalTimeLabel" text="45분" styleClass="quiz-mode-info-value"/>
                        </HBox>
                    </VBox>

                    <Button fx:id="starta" text="시작하기"
                            styleClass="quiz-mode-start, purple"
                            onAction="#onStartAll"/>
                </VBox>

                <!-- 오답률 상위 카드 -->
                <VBox alignment="TOP_CENTER"
                      spacing="24"
                      prefWidth="420"
                      styleClass="quiz-mode-card, yellow">

                    <VBox alignment="CENTER" spacing="14">
                        <StackPane styleClass="quiz-mode-icon-surface, yellow">
                            <SVGPath content="M17 3h4v4
                                              M18.575 11.082a13 13 0 0 1 1.048 9.027 1.17 1.17 0 0 1-1.914.597L14 17
                                              M7 10 3.29 6.29a1.17 1.17 0 0 1 .6-1.91 13 13 0 0 1 9.03 1.05
                                              M7 14a1.7 1.7 0 0 0-1.207.5l-2.646 2.646A.5.5 0 0 0 3.5 18H5a1 1 0 0 1 1 1v1.5a.5.5 0 0 0 .854.354L9.5 18.207A1.7 1.7 0 0 0 10 17v-2a1 1 0 0 0-1-1z
                                              M9.707 14.293 21 3"
                                     stroke="white"
                                     fill="transparent"
                                     strokeWidth="2"
                                     strokeLineCap="ROUND"
                                     strokeLineJoin="ROUND"
                                     style="-fx-scale-x:2; -fx-scale-y:2;"/>
                        </StackPane>

                        <Label text="오답률 상위 문제" styleClass="quiz-mode-title"/>
                        <Label text="약점을 집중 공략하세요" styleClass="quiz-mode-subtitle"/>
                    </VBox>

                    <VBox spacing="12" alignment="CENTER_LEFT" prefWidth="420">

                        <HBox alignment="CENTER_LEFT">
                            <Label text="문제 개수 선택" styleClass="quiz-mode-info-label"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                            <Label fx:id="worstCountValueLabel" text="10" styleClass="quiz-mode-info-value"/>
                            <Label text="문제" styleClass="quiz-mode-info-label"/>
                        </HBox>

                        <Slider fx:id="worstCountSlider"
                                min="1" max="50" value="10"
                                styleClass="quiz-mode-slider"/>

                        <HBox alignment="CENTER" spacing="12">
                            <Button fx:id="btn5" text="5개" styleClass="pill-button, quiz-pill-outline" onAction="#onQuickSelect5"/>
                            <Button fx:id="btn10" text="10개" styleClass="pill-button, quiz-pill-outline" onAction="#onQuickSelect10"/>
                            <Button fx:id="btn15" text="15개" styleClass="pill-button, quiz-pill-outline" onAction="#onQuickSelect15"/>
                            <Button fx:id="btn20" text="20개" styleClass="pill-button, quiz-pill-outline" onAction="#onQuickSelect20"/>
                        </HBox>
                    </VBox>

                    <VBox spacing="12" styleClass="quiz-mode-info, yellow" prefWidth="420">
                        <HBox alignment="CENTER_LEFT">
                            <Label text="선택된 문제" styleClass="quiz-mode-info-label"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                            <Label fx:id="worstSelectedCountLabel" text="10문제" styleClass="quiz-mode-info-value"/>
                        </HBox>
                        <HBox alignment="CENTER_LEFT">
                            <Label text="예상 소요시간" styleClass="quiz-mode-info-label"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                            <Label fx:id="worstTimeLabel" text="15분" styleClass="quiz-mode-info-value"/>
                        </HBox>
                    </VBox>

                    <Button fx:id="startb" text="시작하기"
                            styleClass="quiz-mode-start, yellow"
                            onAction="#onStartWorst"/>
                </VBox>

            </HBox>
        </VBox>
    </center>
</BorderPane>
